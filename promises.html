<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promises</title>
</head>
<body>


    <script>


// let a = "Hello Ecma script"
//  let promiseData = new Promise((resolved,rejext)=>{
//      setTimeout(() => {
//        a = "Hello world"
//        resolved("done")
//      }, 2000);
//  })

//  promiseData.then(()=>{
//     alert(a)
//  })
    



//promise 3 stages

//3 task

// ap mujhe promise karo ke kal 10am me mujhe call karooege

// tomorrow at 10 am 
// 1: pending

// event time hogya to ya to ap karoge ya nhi matlab

// 2: resolve -> yani apne fulfiled kardiya 
// 3: reject -> yani apne call nhi kiya

//promise use karne ke liye 2 tareka he constructor or 2sr object

// to creat new object of promise use new keyword
//executer

const pobj1 = new Promise( (resolve, reject) => {

 setTimeout( () => {
    let roll_no = [1,2,3,4,5,6]
    // console.log(roll_no);
     resolve(roll_no);
     //reject(`error with communicate with database`)
 },2000)

})

const getBioData = (indexdata) =>{
    return new Promise( (resolve,reject) =>{
   setTimeout((indexdata )=>{
   let biodata = {
       name : 'zubair shah',
       age : 21,

   }
   resolve(`my roll no is ${indexdata.name} and i am ${indexdata.age} years old `)

   },2000,indexdata)
    })
}
//promise -consuming-----------

pobj1.then((roll) =>{
    console.log(roll);
    return getBioData(roll[1]);
}).then((kuchbhi) =>{ 
    console.log('kuch bhi');
}).catch((error) =>{
     console.log(error);
})






    </script>
</body>
</html>